{% extends "base.html" %}

{% block title %}Soundwave - Home{% endblock %}
{% block heading %}{{ app }}{% endblock %}
{% block description %}{{ description }}{% endblock %}
{% block content %}
<p><span class="content">User: {{ name }}</span></p>
<p><span class="content">ID: {{ random_user_id }}</span></p>
<p><span class="content">Class: {{ class }}</span></p>
<h5 class="descsession">Last Login Session: {{ last_login }}</h5>
<a href="{% url 'main:logout' %}">
  <button class="buttonlogout">
      Logout
  </button>
</a>
  <table class="tg">
    <thead>
      <tr>
        <th class="tg-tqnx" style="font-size: 40px; padding-top: 20px; padding-bottom: 20px;" colspan="7">SoundWâ™«ve's Catalogue</th>
      </tr>
      <tr>
        <th class="tg-tqnx">No.</th>
        <th class="tg-tqnx">Album</th>
        <th class="tg-tqnx">Duration</th>
        <th class="tg-mhh0">Year</th>
        <th class="tg-tqnx">Artist</th>
        <th class="tg-tqnx">Artwork</th>
        <th class="tg-tqnx">Stock</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="tg-hv44">1.</td>
        <td class="tg-hv44">{{ albums.1 }}</td>
        <td class="tg-hv44">{{ duration.1 }}</td>
        <td class="tg-ye1f">{{ year.1 }}</td>
        <td class="tg-hv44">{{ artists.1 }}</td>
        <td class="tg-hv44"><img src="{{ artwork.1 }}" width="100" height="100"></td>
        <th class="tg-hv44">{{ stock.1 }}</th>
      </tr>
      <tr>
        <td class="tg-hv44">2.</td>
        <td class="tg-hv44">{{ albums.2 }}</td>
        <td class="tg-hv44">{{ duration.2 }}</td>
        <td class="tg-ye1f">{{ year.2 }}</td>
        <td class="tg-hv44">{{ artists.2 }}</td>
        <td class="tg-hv44"><img src="{{ artwork.2 }}" width="100" height="100"></td>
        <th class="tg-hv44">{{ stock.2 }}</th>
      </tr>
      <tr>
        <td class="tg-hv44">3.</td>
        <td class="tg-hv44">{{ albums.3 }}</td>
        <td class="tg-hv44">{{ duration.3 }}</td>
        <td class="tg-ye1f">{{ year.3 }}</td>
        <td class="tg-hv44">{{ artists.3 }}</td>
        <td class="tg-hv44"><img src="{{ artwork.3 }}" width="100" height="100"></td>
        <th class="tg-hv44">{{ stock.3 }}</th>
      </tr>
      <tr>
        <td class="tg-hv44">4.</td>
        <td class="tg-hv44">{{ albums.4 }}</td>
        <td class="tg-hv44">{{ duration.4 }}</td>
        <td class="tg-ye1f">{{ year.4 }}</td>
        <td class="tg-hv44">{{ artists.4 }}</td>
        <td class="tg-hv44"><img src="{{ artwork.4 }}" width="100" height="100"></td>
        <th class="tg-hv44">{{ stock.4 }}</th>
      </tr>
      <tr>
        <td class="tg-hv44" style="color: red;">5.</td>
        <td class="tg-hv44" style="color: red;">{{ albums.5 }}</td>
        <td class="tg-hv44" style="color: red;">{{ duration.5 }}</td>
        <td class="tg-ye1f" style="color: red;">{{ year.5 }}</td>
        <td class="tg-hv44" style="color: red;">{{ artists.5 }}</td>
        <td class="tg-hv44" style="color: red;"><img src="{{ artwork.5 }}" width="100" height="100"></td>
        <th class="tg-hv44" style="color: red;">{{ stock.5 }}</th>
      </tr>
    </tbody>
  </table>
  <h1 class="addalbum">Request an album</h1>
  <h2 class="albumcount">Album requested: {{item_count}}</h2>
  <table class="tg">
    {% if item_count > 0 %}
    <tr>
        <th class="tg-tqnx">No.</th>
        <th class="tg-tqnx">Album</th>
        <th class="tg-tqnx">Year</th>
        <th class="tg-tqnx">Artist</th>
        <th class="tg-tqnx">Amount</th>
        <th class="tg-tqnx">Modify</th>
        <th class="tg-tqnx">Date Requested</th>
        <th class="tg-tqnx">Remove</th>
    </tr>
    {% for item in items %}
        <tr>
            <td class="tg-hv44">{{ forloop.counter }}</td>
            <td class="tg-hv44">{{item.album}}</td>
            <td class="tg-hv44">{{item.year}}</td>
            <td class="tg-hv44">{{item.artist}}</td>
            <td class="tg-hv44">{{item.amount}}</td>
            <td class="tg-hv44">
              <form method="POST" action="{% url 'main:increment_amount' item.id %}">
                  {% csrf_token %}
                <button class="buttonincdec" type="submit">+</button>
              </form>
              <form method="POST" action="{% url 'main:decrement_amount' item.id %}">
                  {% csrf_token %}
                <button class="buttonincdec" type="submit">-</button>
            </form>
            <td class="tg-hv44">{{item.date_added}}</td>
            <td class="tg-hv44">
              <a href="{% url 'main:delete_product' item.id %}">
                <button class="buttondeletealbum">
                  Remove
                </button>
              </a>
            </td>
        </tr>
    {% endfor %}
    {% endif %}
</table>

<a href="{% url 'main:create_product' %}">
    <button class="buttonrequest">
      Request album
    </button>
</a>

{% endblock content %}